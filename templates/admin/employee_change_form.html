{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}
    {% if original %}
        {{ original.firstName }} {{ original.secondName }} 
        {% if original.is_active %}
            <span style="color: #28a745; font-weight: bold;">(نشط)</span>
        {% else %}
            <span style="color: #ba2121; font-weight: bold;">(غير نشط)</span>
        {% endif %}
    {% else %}
        {{ block.super }}
    {% endif %}
{% endblock %}

{% block field_sets %}
    {% if show_toggle_button and original %}
        <div class="submit-row" style="margin-bottom: 20px; background: #f8f9fa; padding: 10px; border-radius: 4px;">
            <div class="align-left">
                {% if original.is_active %}
                    <a href="{% url 'admin:employee-toggle-active' original.pk %}" 
                       class="button" 
                       style="background: #ba2121; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px;"
                       onclick="return confirm('هل أنت متأكد من أنك تريد إلغاء تفعيل هذا الموظف؟')">
                        إلغاء تفعيل الموظف
                    </a>
                {% else %}
                    <a href="{% url 'admin:employee-toggle-active' original.pk %}" 
                       class="button" 
                       style="background: #28a745; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px;"
                       onclick="return confirm('هل أنت متأكد من أنك تريد تفعيل هذا الموظف؟')">
                        تفعيل الموظف
                    </a>
                {% endif %}
            </div>
        </div>
    {% endif %}
    {{ block.super }}
{% endblock %}

{% block submit_buttons_bottom %}
    {{ block.super }}
{% endblock %} 